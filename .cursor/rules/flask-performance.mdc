---
globs: "*.py"
description: "Flask server performance and debugging guidelines"
---

# Flask 서버 성능 및 디버깅 규칙

## 🚨 중복 프로세스 방지
- Flask debug 모드는 프로덕션에서 비활성화 (`FLASK_DEBUG=False`)
- 서버 시작 전 기존 프로세스 확인: `lsof -i :3001`
- 백그라운드 실행 시 PID 추적 관리

## ⚡ 비동기 처리 원칙
- 모델 로딩은 반드시 백그라운드 스레드에서 처리
- API 응답 시간 5초 이내 목표
- 블로킹 작업 시 progress indicator 제공

## 🔍 진단 및 모니터링
- Health check API는 실제 시스템 상태 반영
- 타임아웃 발생 시 즉시 로그 출력
- 메모리 사용량 및 응답 시간 모니터링

## 📝 관련 파일
- 메인 서버: [app.py](mdc:app.py)
